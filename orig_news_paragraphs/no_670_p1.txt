The ban takes effect on Sunday and will last until the end of the year, the Chinese Commerce Ministry said in a brief statement posted on its website on Saturday. Chinese trade and aid have long been a vital economic crutch for North Korea, and the decision strips North Korea of one of its most important sources of foreign currency. Coal has accounted for 34 percent to 40 percent of North Korean exports in the past several years, and almost all of it was shipped to China, according to South Korean government estimates. The ban comes six days after the North Korean test of a ballistic missile that the Security Council condemned as a violation of its resolutions that prohibited the country from developing and testing ballistic missile technology. 