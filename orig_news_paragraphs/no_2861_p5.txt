Since then, the number of American visitors to Cuba has risen quickly, with hotels in Havana sometimes being booked nearly a year in advance, often with large American tour groups. Billions of dollars in goods from American stores like Walmart and Best Buy, financed on American credit cards, make their way to Cuba every year, experts estimate. Restaurants, cellphones and the internet have changed the rhythms and expectations of Cuban life. But critics have long attacked Mr. Obama, saying he gave too much to the Cubans too soon, without first demanding that they open up their society and usher in an era of political freedom. 