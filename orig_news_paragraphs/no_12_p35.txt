The Navy SEAL raid that killed Osama bin Laden in Pakistan in May 2011 added to Mr. Obama’s conviction that he was on the way to closing the books on the war. At midnight on May 1, 2012, Air Force One rolled out from behind a hangar at Joint Base Andrews to pick up the president for a secret trip to Afghanistan. He was going to sign a strategic partnership agreement with President Hamid Karzai that set the terms for relations after 2014, when the United States was scheduled to withdraw its combat troops and turn over Afghanistan’s security to the Afghans. Aides to Mr. Obama had advised him not to go for security reasons, but he saw it as an important milestone. 