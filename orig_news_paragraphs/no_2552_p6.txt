Many past efforts to quell the fighting, including two agreements this year between Russia and the United States, have failed, and Mr. Putin himself called the deal fragile. But in recent months, major shifts have occurred in the war and among the foreign powers embroiled in it, creating an opening for the new agreement. The rebels’ loss of eastern Aleppo this month was a major blow to their movement, leaving them without footholds in any of Syria’s largest cities. That has made it harder for their foreign backers to see them as a realistic alternative to Mr. Assad. 