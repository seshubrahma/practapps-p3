When President Trump signed an executive order last month temporarily barring visitors from seven mostly Muslim countries, he said he was moving to protect the United States from terrorist attacks. The Homeland Security secretary, John F. Kelly, echoed the president, saying the travel ban was necessary because vetting procedures "in those seven countries are suspect. " But an internal report written by intelligence analysts at Mr. Kelly’s department appears to undercut the assessment that people from the seven countries  —   Iran, Iraq, Libya, Somalia, Sudan, Syria and Yemen   