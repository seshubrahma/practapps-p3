Although the premier’s visit to Pearl Harbor was in the planning stages even before the American presidential election, Donald J. Trump’s win scared Japanese leaders because he had spent time on the campaign trail castigating Japan for not paying enough for its own defense. And when Mr. Obama made a visit to Hiroshima in May, Mr. Trump posted on Twitter: "Does President Obama ever discuss the sneak attack on Pearl Harbor while he’s in Japan? Thousands of American lives lost. 