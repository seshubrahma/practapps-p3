Mr. Obama provided very clear promises of protection. In 2014, during a visit to Tokyo, he declared that a security treaty obligated the United States to defend Japan in its confrontation with China over a set of disputed islands in the East China Sea, known in Japan as the Senkaku and in China as the Diaoyu. It was the first time an American president had explicitly said so. Now 