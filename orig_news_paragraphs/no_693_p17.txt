The publisher had encountered mounting criticism of its relationship with Mr. Yiannopoulos. The author Roxane Gay withdrew from her contract for a book with a Simon  Schuster imprint in protest. The company stood by Mr. Yiannopoulos even as his planned lecture at the University of California, Berkeley, was canceled after rioting. 