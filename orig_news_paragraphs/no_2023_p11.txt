Ayatollah Khamenei has often criticized the deal publicly, but analysts agree that without his specific consent, a compromise with the United States and other global powers would never have been reached. Mr. Trump’s ascent to power has been met by Mr. Rouhani and other Iranian leaders with familiar slogans like "America can’t do a damn thing. " But the vote last week in Washington to extend sanctions for another decade, which they say violated the nuclear agreement, seemed to strike a nerve. 