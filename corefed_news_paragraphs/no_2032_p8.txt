"It is an excellent preparation for someone whose job it is to protect the border ."General Kelly served as the senior military assistant to both Mr. Panetta and his predecessor , Robert M. Gates .